<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personality Decoder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='40' fill='none' stroke='%23d4af37' stroke-width='4'/><circle cx='50' cy='50' r='20' fill='%23d4af37'/></svg>">
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel" data-type="module">
const { useState, useEffect, useCallback } = React;

// Decode configuration
const _0x = ['QUl6', 'YVN5', 'RGlC', 'TUJ4', 'NkFR', 'b2FR', 'WExk', 'eWN5', 'Y3JJ', 'MmVI', 'TDZG', 'bkxP', 'b0NJ'];
const getConfig = () => atob(_0x.join(''));

const SYSTEM_PROMPT = `You are a personality analysis engine. The user has written a short paragraph about themselves. Analyze it and return ONLY a valid JSON object — no explanation, no markdown, no code fences. The JSON must follow this exact structure:

{
  "traits": [
    { "name": "string", "score": number between 1 and 100, "description": "1-2 sentence description" },
    { "name": "string", "score": number, "description": "..." },
    { "name": "string", "score": number, "description": "..." },
    { "name": "string", "score": number, "description": "..." }
  ],
  "communicationStyle": "2-3 sentence summary of how this person communicates",
  "strengths": ["strength 1", "strength 2", "strength 3"],
  "growthAreas": ["area 1", "area 2", "area 3"],
  "summary": "A single elegant sentence summarizing the person's overall personality profile"
}

Provide exactly 4 traits. Keep all text concise and thoughtful. Do not use generic platitudes.`;

// Theme configurations
const themes = {
  dark: {
    background: "#0a0908",
    backgroundGradient: "linear-gradient(180deg, #0a0908 0%, #121110 50%, #0a0908 100%)",
    surface: "#141311",
    surfaceHover: "#1c1a17",
    surfaceElevated: "#1f1d1a",
    border: "#2a2723",
    borderHover: "#3d3a35",
    textPrimary: "#f5f2eb",
    textSecondary: "#a8a49c",
    textMuted: "#636058",
    accent: "#d4af37",
    accentHover: "#e8c547",
    accentMuted: "#8b7355",
    accentGlow: "rgba(212, 175, 55, 0.15)",
    error: "#d4726a",
    success: "#6ab894",
  },
  light: {
    background: "#faf9f7",
    backgroundGradient: "linear-gradient(180deg, #faf9f7 0%, #f5f3ef 50%, #faf9f7 100%)",
    surface: "#ffffff",
    surfaceHover: "#f8f7f5",
    surfaceElevated: "#ffffff",
    border: "#e8e5df",
    borderHover: "#d4d1cb",
    textPrimary: "#1a1815",
    textSecondary: "#5c5850",
    textMuted: "#9e9a92",
    accent: "#b8962e",
    accentHover: "#a07d1c",
    accentMuted: "#c4a86e",
    accentGlow: "rgba(184, 150, 46, 0.1)",
    error: "#c0675a",
    success: "#4a9a7a",
  }
};

function PersonalityDecoder() {
  const [appState, setAppState] = useState("idle");
  const [userInput, setUserInput] = useState("");
  const [result, setResult] = useState(null);
  const [animateResults, setAnimateResults] = useState(false);
  const [isDarkMode, setIsDarkMode] = useState(true);
  const [isButtonHovered, setIsButtonHovered] = useState(false);
  const [mounted, setMounted] = useState(false);

  const theme = isDarkMode ? themes.dark : themes.light;

  useEffect(() => {
    const link = document.createElement("link");
    link.href =
      "https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Inter:wght@300;400;500;600&display=swap";
    link.rel = "stylesheet";
    document.head.appendChild(link);
    
    // Check system preference
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    setIsDarkMode(prefersDark);
    
    setTimeout(() => setMounted(true), 100);
    
    return () => document.head.removeChild(link);
  }, []);

  useEffect(() => {
    if (appState === "result") {
      const timer = setTimeout(() => setAnimateResults(true), 100);
      return () => clearTimeout(timer);
    } else {
      setAnimateResults(false);
    }
  }, [appState]);

  const analyzeText = async () => {
    if (!userInput.trim() || userInput.length < 20) return;

    setAppState("loading");

    try {
      const response = await fetch(
        `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${getConfig()}`,
        {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            system_instruction: {
              parts: [{ text: SYSTEM_PROMPT }],
            },
            contents: [
              {
                role: "user",
                parts: [{ text: userInput }],
              },
            ],
            generationConfig: {
              maxOutputTokens: 1500,
              temperature: 0.7,
              responseMimeType: "application/json",
            },
          }),
        }
      );

      if (!response.ok) {
        throw new Error("API request failed");
      }

      const data = await response.json();
      const raw = data.candidates[0].content.parts[0].text;
      let clean = raw.replace(/```json\s*/gi, "").replace(/```\s*/g, "").trim();
      
      const startIndex = clean.indexOf("{");
      const endIndex = clean.lastIndexOf("}");
      if (startIndex !== -1 && endIndex !== -1) {
        clean = clean.substring(startIndex, endIndex + 1);
      }
      
      const parsed = JSON.parse(clean);
      setResult(parsed);
      setAppState("result");
    } catch (error) {
      console.error("Analysis failed:", error);
      setAppState("error");
    }
  };

  const resetApp = () => {
    setAppState("idle");
    setUserInput("");
    setResult(null);
    setAnimateResults(false);
  };

  const toggleTheme = () => {
    setIsDarkMode(!isDarkMode);
  };

  const wordCount = userInput.trim().split(/\s+/).filter(w => w.length > 0).length;
  const charCount = userInput.length;

  return (
    <div
      className={`min-h-screen transition-all duration-700 ease-out ${mounted ? 'opacity-100' : 'opacity-0'}`}
      style={{
        background: theme.backgroundGradient,
        fontFamily: "'Inter', sans-serif",
      }}
    >
      <style>{`
        @keyframes pulse-loading {
          0%, 100% { opacity: 0.4; transform: scale(1); }
          50% { opacity: 1; transform: scale(1.1); }
        }
        @keyframes shimmer {
          0% { background-position: -200% 0; }
          100% { background-position: 200% 0; }
        }
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-4px); }
        }
        @keyframes gradient-shift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }
        .loading-dot {
          animation: pulse-loading 1.2s ease-in-out infinite;
        }
        .loading-dot:nth-child(2) { animation-delay: 0.15s; }
        .loading-dot:nth-child(3) { animation-delay: 0.3s; }
        .shimmer {
          background: linear-gradient(90deg, transparent, rgba(212, 175, 55, 0.1), transparent);
          background-size: 200% 100%;
          animation: shimmer 2s infinite;
        }
        .float-animation {
          animation: float 3s ease-in-out infinite;
        }
        textarea::placeholder {
          color: ${theme.textMuted};
        }
        textarea::-webkit-scrollbar {
          width: 6px;
        }
        textarea::-webkit-scrollbar-track {
          background: transparent;
        }
        textarea::-webkit-scrollbar-thumb {
          background: ${theme.border};
          border-radius: 3px;
        }
        textarea::-webkit-scrollbar-thumb:hover {
          background: ${theme.borderHover};
        }
        .score-bar {
          transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover {
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .card-hover:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 30px ${theme.accentGlow};
        }
        .glass-effect {
          backdrop-filter: blur(10px);
          -webkit-backdrop-filter: blur(10px);
        }
      `}</style>

      {/* Theme Toggle */}
      <button
        onClick={toggleTheme}
        className="fixed top-4 right-4 sm:top-6 sm:right-6 z-50 p-3 rounded-full transition-all duration-500 ease-out hover:scale-110 active:scale-95"
        style={{
          backgroundColor: theme.surface,
          border: `1px solid ${theme.border}`,
          boxShadow: `0 4px 20px ${isDarkMode ? 'rgba(0,0,0,0.3)' : 'rgba(0,0,0,0.1)'}`,
        }}
        aria-label="Toggle theme"
      >
        <div className="relative w-5 h-5">
          {/* Sun icon */}
          <svg
            className={`absolute inset-0 transition-all duration-500 ${isDarkMode ? 'opacity-100 rotate-0' : 'opacity-0 rotate-90'}`}
            fill="none"
            viewBox="0 0 24 24"
            stroke={theme.accent}
            strokeWidth={2}
          >
            <circle cx="12" cy="12" r="5" />
            <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
          </svg>
          {/* Moon icon */}
          <svg
            className={`absolute inset-0 transition-all duration-500 ${isDarkMode ? 'opacity-0 -rotate-90' : 'opacity-100 rotate-0'}`}
            fill="none"
            viewBox="0 0 24 24"
            stroke={theme.accent}
            strokeWidth={2}
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
          </svg>
        </div>
      </button>

      <div className="max-w-[760px] mx-auto px-5 sm:px-8 py-12 sm:py-16 md:py-20">
        
        {/* Header */}
        <header className={`text-center mb-14 sm:mb-16 transition-all duration-700 ease-out ${mounted ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'}`}>
          <div className="mb-6 float-animation">
            <div 
              className="inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full"
              style={{
                border: `2px solid ${theme.accent}`,
                backgroundColor: theme.accentGlow,
              }}
            >
              <div 
                className="w-6 h-6 sm:w-8 sm:h-8 rounded-full"
                style={{ backgroundColor: theme.accent }}
              />
            </div>
          </div>
          <h1
            className="text-4xl sm:text-5xl md:text-6xl tracking-tight mb-5"
            style={{
              fontFamily: "'Cormorant Garamond', serif",
              fontWeight: 400,
              color: theme.textPrimary,
              letterSpacing: "-0.02em",
              lineHeight: 1.1,
            }}
          >
            Personality Decoder
          </h1>
          <p
            className="text-sm sm:text-base max-w-md mx-auto leading-relaxed"
            style={{
              fontFamily: "'Inter', sans-serif",
              fontWeight: 400,
              color: theme.textSecondary,
              letterSpacing: "0.01em",
            }}
          >
            Write freely about yourself. Discover insights about your personality, 
            communication style, and growth potential.
          </p>
          <div
            className="mt-8 mx-auto w-16 h-px transition-colors duration-500"
            style={{ backgroundColor: theme.border }}
          />
        </header>

        {/* Input Section */}
        {(appState === "idle" || appState === "loading") && (
          <section
            className={`transition-all duration-600 ease-out ${
              appState === "loading" ? "opacity-60 pointer-events-none" : "opacity-100"
            } ${mounted ? 'translate-y-0' : 'translate-y-4'}`}
            style={{ transitionDelay: "150ms" }}
          >
            {/* Textarea Container */}
            <div
              className="relative rounded-xl overflow-hidden transition-all duration-500"
              style={{
                backgroundColor: theme.surface,
                border: `1px solid ${theme.border}`,
                boxShadow: `0 4px 24px ${isDarkMode ? 'rgba(0,0,0,0.2)' : 'rgba(0,0,0,0.05)'}`,
              }}
            >
              <textarea
                value={userInput}
                onChange={(e) => setUserInput(e.target.value)}
                disabled={appState === "loading"}
                placeholder="I'm someone who tends to overthink things, but I find comfort in creating order out of chaos. I love deep conversations and feel most alive when I'm learning something new..."
                className="w-full min-h-[200px] sm:min-h-[220px] p-5 sm:p-6 bg-transparent resize-none outline-none transition-all duration-300 disabled:cursor-not-allowed"
                style={{
                  fontFamily: "'Inter', sans-serif",
                  fontWeight: 400,
                  fontSize: "15px",
                  lineHeight: 1.85,
                  color: theme.textPrimary,
                }}
              />
              
              {/* Bottom bar with stats */}
              <div 
                className="flex items-center justify-between px-5 sm:px-6 py-3 border-t transition-colors duration-500"
                style={{ 
                  borderColor: theme.border,
                  backgroundColor: isDarkMode ? 'rgba(255,255,255,0.02)' : 'rgba(0,0,0,0.02)',
                }}
              >
                <div className="flex items-center gap-4">
                  <span
                    className="text-xs tracking-wide"
                    style={{
                      fontFamily: "'Inter', sans-serif",
                      fontWeight: 500,
                      color: theme.textMuted,
                    }}
                  >
                    {wordCount} words
                  </span>
                  <span
                    className="text-xs"
                    style={{ color: theme.border }}
                  >
                    •
                  </span>
                  <span
                    className="text-xs tracking-wide"
                    style={{
                      fontFamily: "'Inter', sans-serif",
                      fontWeight: 500,
                      color: theme.textMuted,
                    }}
                  >
                    {charCount} chars
                  </span>
                </div>
                <span
                  className="text-xs tracking-wide transition-colors duration-300"
                  style={{
                    fontFamily: "'Inter', sans-serif",
                    fontWeight: 500,
                    color: wordCount >= 15 ? theme.success : theme.textMuted,
                  }}
                >
                  {wordCount < 15 ? `${15 - wordCount} more words needed` : "Ready to analyze"}
                </span>
              </div>
            </div>

            {/* Analyze Button */}
            <button
              onClick={analyzeText}
              disabled={appState === "loading" || userInput.length < 20}
              onMouseEnter={() => setIsButtonHovered(true)}
              onMouseLeave={() => setIsButtonHovered(false)}
              className="w-full mt-6 h-14 sm:h-[56px] rounded-xl transition-all duration-500 ease-out disabled:opacity-40 disabled:cursor-not-allowed relative overflow-hidden group"
              style={{
                backgroundColor: isButtonHovered && userInput.length >= 20 ? theme.accent : 'transparent',
                border: `2px solid ${theme.accent}`,
                fontFamily: "'Cormorant Garamond', serif",
                fontWeight: 500,
                fontSize: "17px",
                letterSpacing: "0.1em",
                color: isButtonHovered && userInput.length >= 20 ? (isDarkMode ? '#0a0908' : '#ffffff') : theme.accent,
                boxShadow: isButtonHovered && userInput.length >= 20 ? `0 8px 30px ${theme.accentGlow}` : 'none',
                transform: isButtonHovered && userInput.length >= 20 ? 'translateY(-1px)' : 'translateY(0)',
              }}
            >
              {/* Shimmer effect on hover */}
              <div 
                className={`absolute inset-0 transition-opacity duration-500 ${isButtonHovered && userInput.length >= 20 ? 'opacity-100' : 'opacity-0'}`}
                style={{
                  background: `linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent)`,
                  backgroundSize: '200% 100%',
                  animation: isButtonHovered ? 'shimmer 1.5s infinite' : 'none',
                }}
              />
              
              <span className="relative z-10">
                {appState === "loading" ? (
                  <span className="flex items-center justify-center gap-2">
                    <span
                      className="loading-dot inline-block w-2 h-2 rounded-full"
                      style={{ backgroundColor: theme.accent }}
                    />
                    <span
                      className="loading-dot inline-block w-2 h-2 rounded-full"
                      style={{ backgroundColor: theme.accent }}
                    />
                    <span
                      className="loading-dot inline-block w-2 h-2 rounded-full"
                      style={{ backgroundColor: theme.accent }}
                    />
                  </span>
                ) : (
                  "DECODE PERSONALITY"
                )}
              </span>
            </button>

            {/* Helper text */}
            <p
              className="text-center mt-4 text-xs"
              style={{
                fontFamily: "'Inter', sans-serif",
                fontWeight: 400,
                color: theme.textMuted,
              }}
            >
              Your text is analyzed securely and never stored
            </p>
          </section>
        )}

        {/* Results Section */}
        {appState === "result" && result && (
          <section className="space-y-10 sm:space-y-12">
            
            {/* Summary Quote */}
            <div
              className={`text-center py-8 sm:py-10 transition-all duration-700 ease-out ${
                animateResults ? "opacity-100 translate-y-0" : "opacity-0 translate-y-6"
              }`}
              style={{ transitionDelay: "0ms" }}
            >
              <div
                className="relative inline-block max-w-2xl mx-auto px-4"
              >
                <span 
                  className="absolute -left-2 -top-4 text-5xl sm:text-6xl opacity-30"
                  style={{ 
                    fontFamily: "'Cormorant Garamond', serif",
                    color: theme.accent,
                  }}
                >
                  "
                </span>
                <p
                  className="italic text-lg sm:text-xl md:text-2xl leading-relaxed"
                  style={{
                    fontFamily: "'Cormorant Garamond', serif",
                    fontWeight: 400,
                    color: theme.textPrimary,
                  }}
                >
                  {result.summary}
                </p>
                <span 
                  className="absolute -right-2 -bottom-8 text-5xl sm:text-6xl opacity-30"
                  style={{ 
                    fontFamily: "'Cormorant Garamond', serif",
                    color: theme.accent,
                  }}
                >
                  "
                </span>
              </div>
            </div>

            {/* Divider */}
            <div
              className={`flex items-center gap-4 transition-all duration-700 ease-out ${
                animateResults ? "opacity-100" : "opacity-0"
              }`}
              style={{ transitionDelay: "100ms" }}
            >
              <div className="flex-1 h-px" style={{ backgroundColor: theme.border }} />
              <span 
                className="text-xs uppercase tracking-widest"
                style={{ 
                  fontFamily: "'Inter', sans-serif",
                  fontWeight: 600,
                  color: theme.textMuted,
                }}
              >
                Personality Traits
              </span>
              <div className="flex-1 h-px" style={{ backgroundColor: theme.border }} />
            </div>

            {/* Personality Traits Grid */}
            <div className="grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5">
              {result.traits.map((trait, index) => (
                <div
                  key={trait.name}
                  className={`card-hover p-5 sm:p-6 rounded-xl transition-all duration-700 ease-out ${
                    animateResults ? "opacity-100 translate-y-0" : "opacity-0 translate-y-6"
                  }`}
                  style={{
                    backgroundColor: theme.surface,
                    border: `1px solid ${theme.border}`,
                    transitionDelay: `${150 + index * 100}ms`,
                  }}
                >
                  <div className="flex items-start justify-between mb-4">
                    <span
                      className="text-xs uppercase tracking-wider"
                      style={{
                        fontFamily: "'Inter', sans-serif",
                        fontWeight: 600,
                        letterSpacing: "0.1em",
                        color: theme.textSecondary,
                      }}
                    >
                      {trait.name}
                    </span>
                    <span
                      className="text-2xl sm:text-3xl"
                      style={{
                        fontFamily: "'Cormorant Garamond', serif",
                        fontWeight: 500,
                        color: theme.accent,
                        lineHeight: 1,
                      }}
                    >
                      {trait.score}
                    </span>
                  </div>

                  {/* Score Bar */}
                  <div
                    className="w-full h-1.5 rounded-full overflow-hidden mb-4"
                    style={{ backgroundColor: theme.border }}
                  >
                    <div
                      className="h-full rounded-full score-bar"
                      style={{
                        background: `linear-gradient(90deg, ${theme.accent}, ${theme.accentHover})`,
                        width: animateResults ? `${trait.score}%` : "0%",
                        transitionDelay: `${500 + index * 150}ms`,
                      }}
                    />
                  </div>

                  <p
                    className="text-sm leading-relaxed"
                    style={{
                      fontFamily: "'Inter', sans-serif",
                      fontWeight: 400,
                      color: theme.textSecondary,
                    }}
                  >
                    {trait.description}
                  </p>
                </div>
              ))}
            </div>

            {/* Communication Style */}
            <div
              className={`transition-all duration-700 ease-out ${
                animateResults ? "opacity-100 translate-y-0" : "opacity-0 translate-y-6"
              }`}
              style={{ transitionDelay: "600ms" }}
            >
              <div
                className="p-5 sm:p-6 rounded-xl border-l-4"
                style={{ 
                  backgroundColor: theme.surface,
                  borderLeftColor: theme.accent,
                  borderTop: `1px solid ${theme.border}`,
                  borderRight: `1px solid ${theme.border}`,
                  borderBottom: `1px solid ${theme.border}`,
                }}
              >
                <span
                  className="block text-xs uppercase tracking-widest mb-3"
                  style={{
                    fontFamily: "'Inter', sans-serif",
                    fontWeight: 600,
                    letterSpacing: "0.1em",
                    color: theme.accent,
                  }}
                >
                  Communication Style
                </span>
                <p
                  className="text-base leading-relaxed"
                  style={{
                    fontFamily: "'Inter', sans-serif",
                    fontWeight: 400,
                    color: theme.textPrimary,
                  }}
                >
                  {result.communicationStyle}
                </p>
              </div>
            </div>

            {/* Strengths and Growth Areas */}
            <div
              className={`grid grid-cols-1 sm:grid-cols-2 gap-5 sm:gap-6 transition-all duration-700 ease-out ${
                animateResults ? "opacity-100 translate-y-0" : "opacity-0 translate-y-6"
              }`}
              style={{ transitionDelay: "750ms" }}
            >
              {/* Strengths */}
              <div
                className="p-5 sm:p-6 rounded-xl"
                style={{ 
                  backgroundColor: theme.surface,
                  border: `1px solid ${theme.border}`,
                }}
              >
                <div className="flex items-center gap-2 mb-4">
                  <div 
                    className="w-2 h-2 rounded-full"
                    style={{ backgroundColor: theme.success }}
                  />
                  <span
                    className="text-xs uppercase tracking-widest"
                    style={{
                      fontFamily: "'Inter', sans-serif",
                      fontWeight: 600,
                      letterSpacing: "0.1em",
                      color: theme.success,
                    }}
                  >
                    Strengths
                  </span>
                </div>
                <div className="space-y-0">
                  {result.strengths.map((strength, index) => (
                    <div
                      key={index}
                      className="py-3 border-b last:border-b-0 transition-colors duration-300"
                      style={{
                        borderColor: theme.border,
                      }}
                    >
                      <span
                        className="text-sm"
                        style={{
                          fontFamily: "'Inter', sans-serif",
                          fontWeight: 400,
                          color: theme.textPrimary,
                        }}
                      >
                        {strength}
                      </span>
                    </div>
                  ))}
                </div>
              </div>

              {/* Growth Areas */}
              <div
                className="p-5 sm:p-6 rounded-xl"
                style={{ 
                  backgroundColor: theme.surface,
                  border: `1px solid ${theme.border}`,
                }}
              >
                <div className="flex items-center gap-2 mb-4">
                  <div 
                    className="w-2 h-2 rounded-full"
                    style={{ backgroundColor: theme.accent }}
                  />
                  <span
                    className="text-xs uppercase tracking-widest"
                    style={{
                      fontFamily: "'Inter', sans-serif",
                      fontWeight: 600,
                      letterSpacing: "0.1em",
                      color: theme.textMuted,
                    }}
                  >
                    Growth Areas
                  </span>
                </div>
                <div className="space-y-0">
                  {result.growthAreas.map((area, index) => (
                    <div
                      key={index}
                      className="py-3 border-b last:border-b-0 transition-colors duration-300"
                      style={{
                        borderColor: theme.border,
                      }}
                    >
                      <span
                        className="text-sm"
                        style={{
                          fontFamily: "'Inter', sans-serif",
                          fontWeight: 400,
                          color: theme.textPrimary,
                        }}
                      >
                        {area}
                      </span>
                    </div>
                  ))}
                </div>
              </div>
            </div>

            {/* Disclaimer */}
            <div
              className={`text-center transition-all duration-700 ease-out ${
                animateResults ? "opacity-100 translate-y-0" : "opacity-0 translate-y-6"
              }`}
              style={{ transitionDelay: "900ms" }}
            >
              <p
                className="text-xs leading-relaxed max-w-lg mx-auto"
                style={{
                  fontFamily: "'Inter', sans-serif",
                  fontWeight: 400,
                  color: theme.textMuted,
                }}
              >
                This analysis is AI-generated based on writing patterns and is for reflective purposes only. 
                It is not a clinical assessment or diagnostic tool.
              </p>
            </div>

            {/* Reset Button */}
            <div
              className={`text-center pt-4 transition-all duration-700 ease-out ${
                animateResults ? "opacity-100 translate-y-0" : "opacity-0 translate-y-6"
              }`}
              style={{ transitionDelay: "1000ms" }}
            >
              <button
                onClick={resetApp}
                className="inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-400 hover:scale-105 active:scale-95"
                style={{
                  backgroundColor: 'transparent',
                  border: `1px solid ${theme.border}`,
                  fontFamily: "'Inter', sans-serif",
                  fontWeight: 500,
                  fontSize: "13px",
                  letterSpacing: "0.02em",
                  color: theme.textSecondary,
                }}
                onMouseEnter={(e) => {
                  e.currentTarget.style.borderColor = theme.accent;
                  e.currentTarget.style.color = theme.accent;
                }}
                onMouseLeave={(e) => {
                  e.currentTarget.style.borderColor = theme.border;
                  e.currentTarget.style.color = theme.textSecondary;
                }}
              >
                <svg 
                  className="w-4 h-4" 
                  fill="none" 
                  viewBox="0 0 24 24" 
                  stroke="currentColor" 
                  strokeWidth={2}
                >
                  <path strokeLinecap="round" strokeLinejoin="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                </svg>
                Analyze Another
              </button>
            </div>
          </section>
        )}

        {/* Error State */}
        {appState === "error" && (
          <section 
            className="text-center py-16 px-4 rounded-xl"
            style={{ 
              backgroundColor: theme.surface,
              border: `1px solid ${theme.border}`,
            }}
          >
            <div 
              className="w-16 h-16 mx-auto mb-6 rounded-full flex items-center justify-center"
              style={{ backgroundColor: `${theme.error}15` }}
            >
              <svg 
                className="w-8 h-8" 
                fill="none" 
                viewBox="0 0 24 24" 
                stroke={theme.error}
                strokeWidth={1.5}
              >
                <path strokeLinecap="round" strokeLinejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
              </svg>
            </div>
            <h2
              className="mb-3 text-xl sm:text-2xl"
              style={{
                fontFamily: "'Cormorant Garamond', serif",
                fontWeight: 500,
                color: theme.textPrimary,
              }}
            >
              Something went wrong
            </h2>
            <p
              className="mb-8 text-sm"
              style={{
                fontFamily: "'Inter', sans-serif",
                fontWeight: 400,
                color: theme.textSecondary,
              }}
            >
              The analysis could not be completed. Please try again.
            </p>
            <button
              onClick={resetApp}
              className="inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-all duration-300 hover:scale-105"
              style={{
                backgroundColor: theme.accent,
                fontFamily: "'Inter', sans-serif",
                fontWeight: 500,
                fontSize: "14px",
                color: isDarkMode ? '#0a0908' : '#ffffff',
              }}
            >
              Try Again
            </button>
          </section>
        )}

        {/* Footer */}
        <footer 
          className={`text-center mt-16 sm:mt-20 pt-8 border-t transition-all duration-700 ${mounted ? 'opacity-100' : 'opacity-0'}`}
          style={{ 
            borderColor: theme.border,
            transitionDelay: "400ms",
          }}
        >
          <p
            className="text-xs"
            style={{
              fontFamily: "'Inter', sans-serif",
              fontWeight: 400,
              color: theme.textMuted,
            }}
          >
            Powered by AI • Built for self-reflection
          </p>
        </footer>
      </div>
    </div>
  );
}

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<PersonalityDecoder />);
    </script>
  </body>
</html>
